</html>

<!DOCTYPE HTML>
<html>

<head>
  <title>BeerTastic - Kegtastic</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.13/moment-timezone-with-data-2012-2022.min.js"></script>
  <link rel="stylesheet" href="style.css" type="text/css">
  <!-- <link rel="icon" type="image/x-icon" href="/data/favicon.ico"> -->
  <link rel="stylesheet" href="css.css" type="text/css">
</head>



<body>
  <div style="padding: 20px;">
    <div style="position:absolute;top:0;right:0;">
      <a href="/"><button>Beer Overview</button></a>
      <a href="/settings"><button>Settings</button></a>
    </div>
    <h2 class="row" style="padding-left: 30px;">KegTastic v001</h2>
    <div class="row">
      <div id="chart-beer1" class="col-lg-4 col-md-4 col-sm-6 col-xs-6"></div>
      <div id="chart-beer2" class="col-lg-4 col-md-4 col-sm-6 col-xs-6"></div>
      <div id="chart-beer3" class="col-lg-4 col-md-4 col-sm-6 col-xs-6"></div>
      <div id="chart-beer4" class="col-lg-4 col-md-4 col-sm-6 col-xs-6"></div>
      <div id="chart-beer5" class="col-lg-4 col-md-4 col-sm-6 col-xs-6"></div>
      <div id="chart-beer6" class="col-lg-4 col-md-4 col-sm-6 col-xs-6"></div>
      <div id="chart-beer7" class="col-lg-4 col-md-4 col-sm-6 col-xs-6"></div>
      <div id="chart-beer8" class="col-lg-4 col-md-4 col-sm-6 col-xs-6"></div>
      <div id="chart-beer9" class="col-lg-4 col-md-4 col-sm-6 col-xs-6"></div>
      <div id="chart-beer10" class="col-lg-4 col-md-4 col-sm-6 col-xs-6"></div>
    </div>
    <div>
</body>
<script>
  Highcharts.setOptions({
    time: {
        timezone: 'Australia/Sydney'
    }
});
  var chart1 = new Highcharts.Chart({
    chart: { renderTo: 'chart-beer1' },
    title: { text: 'Beer1' },
    series: [{
      showInLegend: false,
      data: []
    }],
    plotOptions: {
      line: {
        animation: false,
        dataLabels: { enabled: false }
      },
      series: { color: '#059e8a' }
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: { second: '%H:%M' }
    },
    yAxis: {
      title: { text: 'Litres remaining' }
    },
    credits: { enabled: false }
  });
  var xhttp1v = new XMLHttpRequest();
    xhttp1v.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
          y = parseFloat((yRaw / 1000).toFixed(1));
          if (chart1.series[0].data.length > 40) {
          chart1.series[0].addPoint([x, y], true, true, true);
        } else {
          chart1.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp1v.open("GET", "/beer1volume", true);
    xhttp1v.send();
    var xhttp1n = new XMLHttpRequest();
    //var jsonResponse = JSON.parse(xhttp1n.responseText);
    console.log("Response: ", xhttp1n.responseText)
    xhttp1n.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        chart1.setTitle({text: this.responseText});
      }
    };
    xhttp1n.open("GET", "/beer1name", true);
    xhttp1n.send();
  setInterval(function () {
    var xhttp1vt = new XMLHttpRequest();
    xhttp1vt.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
          y = parseFloat((yRaw / 1000).toFixed(1));
          if (chart1.series[0].data.length > 40) {
          chart1.series[0].addPoint([x, y], true, true, true);
        } else {
          chart1.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp1vt.open("GET", "/beer1volume", true);
    xhttp1vt.send();
  }, 10000);

  var chart2 = new Highcharts.Chart({
    chart: { renderTo: 'chart-beer2' },
    title: { text: 'Beer2' },
    series: [{
      showInLegend: false,
      data: []
    }],
    plotOptions: {
      line: {
        animation: false,
        dataLabels: { enabled: false }
      }
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: { second: '%H:%M' }
    },
    yAxis: {
      title: { text: 'Litres remaining' }
    },
    credits: { enabled: false }
  });
  var xhttp2v = new XMLHttpRequest();
    xhttp2v.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.response)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart2.series[0].data.length > 40) {
          chart2.series[0].addPoint([x, y], true, true, true);
        } else {
          chart2.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp2v.open("GET", "/beer2volume", true);
    xhttp2v.send();
    var xhttp1nn = new XMLHttpRequest();
    //var jsonResponse = JSON.parse(xhttp1nn.responseText);
    console.log("Response: ", xhtt2nn.responseText)
    xhttp2n.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        chart1.setTitle({text: this.responseText});
      }
    };
    xhttp2n.open("GET", "/beer2name", true);
    xhttp2n.send();
  setInterval(function () {
    var xhttp2vt = new XMLHttpRequest();
    xhttp2vt.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.response)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart2.series[0].data.length > 40) {
          chart2.series[0].addPoint([x, y], true, true, true);
        } else {
          chart2.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp2vt.open("GET", "/beer2volume", true);
    xhttp2vt.send();
  }, 10000);

  var chart3 = new Highcharts.Chart({
    chart: { renderTo: 'chart-beer3' },
    title: { text: 'Beer3' },
    series: [{
      showInLegend: false,
      data: []
    }],
    plotOptions: {
      line: {
        animation: false,
        dataLabels: { enabled: false }
      },
      series: { color: '#18009c' }
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: { second: '%H:%M' }
    },
    yAxis: {
      title: { text: 'Litres remaining' }
    },
    credits: { enabled: false }
  });
  var xhttp3v = new XMLHttpRequest();
    xhttp3v.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart3.series[0].data.length > 40) {
          chart3.series[0].addPoint([x, y], true, true, true);
        } else {
          chart3.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp3v.open("GET", "/beer3volume", true);
    xhttp3v.send();
    var xhttp3n = new XMLHttpRequest();
    //var jsonResponse = JSON.parse(xhttp3n.responseText);
    console.log("Response: ", xhttp3n.responseText)
    xhttp3n.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        chart1.setTitle({text: this.responseText});
      }
    };
    xhttp3n.open("GET", "/beer3name", true);
    xhttp3n.send();
  setInterval(function () {
    var xhttp3vt = new XMLHttpRequest();
    xhttp3vt.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart3.series[0].data.length > 40) {
          chart3.series[0].addPoint([x, y], true, true, true);
        } else {
          chart3.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp3vt.open("GET", "/beer3volume", true);
    xhttp3vt.send();
  }, 10000);

  var chart4 = new Highcharts.Chart({
    chart: { renderTo: 'chart-beer4' },
    title: { text: 'Beer4' },
    series: [{
      showInLegend: false,
      data: []
    }],
    plotOptions: {
      line: {
        animation: false,
        dataLabels: { enabled: false }
      },
      series: { color: '#18009c' }
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: { second: '%H:%M' }
    },
    yAxis: {
      title: { text: 'Litres remaining' }
    },
    credits: { enabled: false }
  });
  var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart4.series[0].data.length > 40) {
          chart4.series[0].addPoint([x, y], true, true, true);
        } else {
          chart4.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer4volume", true);
    xhttp.send();
    var xhttp3nt = new XMLHttpRequest();
    //var jsonResponse = JSON.parse(xhttp3nt.responseText);
    console.log("Response: ", xhttp3nt.responseText)
    xhttp3nt.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        chart1.setTitle({text: this.responseText});
      }
    };
    xhttp3nt.open("GET", "/beer4name", true);
    xhttp3nt.send();
  setInterval(function () {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart4.series[0].data.length > 40) {
          chart4.series[0].addPoint([x, y], true, true, true);
        } else {
          chart4.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer4volume", true);
    xhttp.send();
  }, 10000);

  var chart5 = new Highcharts.Chart({
    chart: { renderTo: 'chart-beer5' },
    title: { text: 'Beer5' },
    series: [{
      showInLegend: false,
      data: []
    }],
    plotOptions: {
      line: {
        animation: false,
        dataLabels: { enabled: false }
      },
      series: { color: '#18009c' }
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: { second: '%H:%M' }
    },
    yAxis: {
      title: { text: 'Litres remaining' }
    },
    credits: { enabled: false }
  });
  var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart5.series[0].data.length > 40) {
          chart5.series[0].addPoint([x, y], true, true, true);
        } else {
          chart5.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer5volume", true);
    xhttp.send();
    var xhttpn = new XMLHttpRequest();
    //var jsonResponse = JSON.parse(xhttpn.responseText);
    console.log("Response: ", xhttpn.responseText)
    xhttpn.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        chart1.setTitle({text: this.responseText});
      }
    };
    xhttpn.open("GET", "/beer5name", true);
    xhttpn.send();
  setInterval(function () {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart5.series[0].data.length > 40) {
          chart5.series[0].addPoint([x, y], true, true, true);
        } else {
          chart5.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer5volume", true);
    xhttp.send();
  }, 10000);

  var chart6 = new Highcharts.Chart({
    chart: { renderTo: 'chart-beer6' },
    title: { text: 'Beer6' },
    series: [{
      showInLegend: false,
      data: []
    }],
    plotOptions: {
      line: {
        animation: false,
        dataLabels: { enabled: false }
      },
      series: { color: '#18009c' }
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: { second: '%H:%M' }
    },
    yAxis: {
      title: { text: 'Litres remaining' }
    },
    credits: { enabled: false }
  });
  var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart6.series[0].data.length > 40) {
          chart6.series[0].addPoint([x, y], true, true, true);
        } else {
          chart6.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer6volume", true);
    xhttp.send();
    var xhttpn = new XMLHttpRequest();
    //var jsonResponse = JSON.parse(xhttpn.responseText);
    console.log("Response: ", xhttpn.responseText)
    xhttpn.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        chart1.setTitle({text: this.responseText});
      }
    };
    xhttpn.open("GET", "/beer6name", true);
    xhttpn.send();
  setInterval(function () {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart6.series[0].data.length > 40) {
          chart6.series[0].addPoint([x, y], true, true, true);
        } else {
          chart6.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer6volume", true);
    xhttp.send();
  }, 10000);

  var chart7 = new Highcharts.Chart({
    chart: { renderTo: 'chart-beer7' },
    title: { text: 'Beer7' },
    series: [{
      showInLegend: false,
      data: []
    }],
    plotOptions: {
      line: {
        animation: false,
        dataLabels: { enabled: false }
      },
      series: { color: '#18009c' }
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: { second: '%H:%M' }
    },
    yAxis: {
      title: { text: 'Litres remaining' }
    },
    credits: { enabled: false }
  });
  var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart7.series[0].data.length > 40) {
          chart7.series[0].addPoint([x, y], true, true, true);
        } else {
          chart7.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer7volume", true);
    xhttp.send();
    var xhttpn = new XMLHttpRequest();
    //var jsonResponse = JSON.parse(xhttpn.responseText);
    console.log("Response: ", xhttpn.responseText)
    xhttpn.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        chart1.setTitle({text: this.responseText});
      }
    };
    xhttpn.open("GET", "/beer7name", true);
    xhttpn.send();
  setInterval(function () {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart7.series[0].data.length > 40) {
          chart7.series[0].addPoint([x, y], true, true, true);
        } else {
          chart7.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer7volume", true);
    xhttp.send();
  }, 10000);

  var chart8 = new Highcharts.Chart({
    chart: { renderTo: 'chart-beer8' },
    title: { text: 'Beer8' },
    series: [{
      showInLegend: false,
      data: []
    }],
    plotOptions: {
      line: {
        animation: false,
        dataLabels: { enabled: false }
      },
      series: { color: '#18009c' }
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: { second: '%H:%M' }
    },
    yAxis: {
      title: { text: 'Litres remaining' }
    },
    credits: { enabled: false }
  });
  var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart8.series[0].data.length > 40) {
          chart8.series[0].addPoint([x, y], true, true, true);
        } else {
          chart8.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer8volume", true);
    xhttp.send();
    var xhttpn = new XMLHttpRequest();
    //var jsonResponse = JSON.parse(xhttpn.responseText);
    console.log("Response: ", xhttpn.responseText)
    xhttpn.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        chart1.setTitle({text: this.responseText});
      }
    };
    xhttpn.open("GET", "/beer8name", true);
    xhttpn.send();
  setInterval(function () {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart8.series[0].data.length > 40) {
          chart8.series[0].addPoint([x, y], true, true, true);
        } else {
          chart8.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer8volume", true);
    xhttp.send();
  }, 10000);

  var chart9 = new Highcharts.Chart({
    chart: { renderTo: 'chart-beer9' },
    title: { text: 'Beer9' },
    series: [{
      showInLegend: false,
      data: []
    }],
    plotOptions: {
      line: {
        animation: false,
        dataLabels: { enabled: false }
      },
      series: { color: '#18009c' }
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: { second: '%H:%M' }
    },
    yAxis: {
      title: { text: 'Litres remaining' }
    },
    credits: { enabled: false }
  });
  var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart9.series[0].data.length > 40) {
          chart9.series[0].addPoint([x, y], true, true, true);
        } else {
          chart9.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer9volume", true);
    xhttp.send();
    var xhttpn = new XMLHttpRequest();
    //var jsonResponse = JSON.parse(xhttpn.responseText);
    console.log("Response: ", xhttpn.responseText)
    xhttpn.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        chart1.setTitle({text: this.responseText});
      }
    };
    xhttpn.open("GET", "/beer9name", true);
    xhttpn.send();
  setInterval(function () {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart9.series[0].data.length > 40) {
          chart9.series[0].addPoint([x, y], true, true, true);
        } else {
          chart9.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer9volume", true);
    xhttp.send();
  }, 10000);

  var chart10 = new Highcharts.Chart({
    chart: { renderTo: 'chart-beer10' },
    title: { text: 'Beer10' },
    series: [{
      showInLegend: false,
      data: []
    }],
    plotOptions: {
      line: {
        animation: false,
        dataLabels: { enabled: false }
      },
      series: { color: '#18009c' }
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: { second: '%H:%M' }
    },
    yAxis: {
      title: { text: 'Litres remaining' }
    },
    credits: { enabled: false }
  });
  var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart10.series[0].data.length > 40) {
          chart10.series[0].addPoint([x, y], true, true, true);
        } else {
          chart10.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer10volume", true);
    xhttp.send();
    var xhttpn = new XMLHttpRequest();
    //var jsonResponse = JSON.parse(xhttpn.responseText);
    console.log("Response: ", xhttpn.responseText)
    xhttpn.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        chart1.setTitle({text: this.responseText});
      }
    };
    xhttpn.open("GET", "/beer10name", true);
    xhttpn.send();
  setInterval(function () {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var x = (new Date()).getTime(),
        yRaw = parseFloat(this.responseText)
        y = parseFloat((yRaw / 1000).toFixed(1));
        if (chart10.series[0].data.length > 40) {
          chart10.series[0].addPoint([x, y], true, true, true);
        } else {
          chart10.series[0].addPoint([x, y], true, false, true);
        }
      }
    };
    xhttp.open("GET", "/beer10volume", true);
    xhttp.send();
  }, 10000);
</script>

</html>